(this["webpackJsonpmomimsafe.live"]=this["webpackJsonpmomimsafe.live"]||[]).push([[0],{110:function(e,t,i){e.exports=i.p+"static/media/momimsafe.df313ec7.mp4"},115:function(e,t,i){e.exports=i(243)},120:function(e,t,i){},121:function(e,t,i){},243:function(e,t,i){"use strict";i.r(t);var n=i(0),a=i.n(n),o=i(81),r=i.n(o),s=(i(120),i(121),i(3)),l=i(4),d=i(20),c=i(5),p=i(6),m=i(2),h="#055A85",u="#D0011B",f="#FCF0E1",g="#02293C",x="#7E8A90",b="#F7C98C",y="#FFFFFF",v="#000000",w="#595959",k="#2D2C2C",S="8px",C="12px",E="16px",R="20px",O="24px",I="28px",D="36px",j="40px",T="44px",z="52px",A="56px",F="64px",M="76px",B="4px",P="8px",H="12px",L="20px",W="28px",U="36px",N="52px",V="bebas_neueregular",_="bilboregular",Q="open_sanslight",q="thermalregular",Y={dark:"0px 2px 4px "+v,darkButton:"0px 0px 3px"+v,darkButtonBig:"0px 1px 5px"+v},X=i(12),G=0,J=1,K={container:{display:"flex",alignItems:"center",justifyContent:"center",background:h,color:f,fontFamily:V,fontSize:j,letterSpacing:"1px",zIndex:"30",cursor:"pointer",margin:B,borderWidth:"3px",borderStyle:"dotted",borderColor:b,"@media (min-width: 750px) and (orientation: portrait)":{fontSize:z},"@media (min-width: 900px)":{fontSize:z},"@media (min-width: 900px) and (orientation: portrait)":{fontSize:F},"@media (min-width: 1200px)":{fontSize:F}},fadeIn:{animationName:m.a.keyframes(X.fadeIn,"fadeIn"),animationDuration:"1.0s",animationFillMode:"forwards",animationTimingFunction:"ease-in"},fadeOut:{animationName:m.a.keyframes(X.fadeOut,"fadeOut"),animationDuration:"1.0s",animationFillMode:"forwards",animationTimingFunction:"ease-out"},bottomCircle:{height:"70px",width:"140px",borderRadius:" 0 0 140px 140px","@media (min-width: 750px) and (orientation: portrait)":{height:"90px",width:"180px",borderRadius:" 0 0 180px 180px"},"@media (min-width: 900px)":{height:"90px",width:"180px",borderRadius:" 0 0 180px 180px"},"@media (min-width: 900px) and (orientation: portrait)":{height:"110px",width:"220px",borderRadius:" 0 0 220px 220px"},"@media (min-width: 1200px)":{height:"110px",width:"220px",borderRadius:" 0 0 220px 220px"}},hide:{visibility:"hidden"},topCircle:{height:"70px",width:"140px",borderRadius:"140px 140px 0 0","@media (min-width: 750px) and (orientation: portrait)":{height:"90px",width:"180px",borderRadius:" 180px 180px 0px 0px"},"@media (min-width: 900px)":{height:"90px",width:"180px",borderRadius:" 180px 180px 0px 0px"},"@media (min-width: 900px) and (orientation: portrait)":{height:"110px",width:"220px",borderRadius:" 220px 220px 0px 0px"},"@media (min-width: 1200px)":{height:"110px",width:"220px",borderRadius:" 220px 220px 0px 0px"}}},Z=function(e){Object(p.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={},n}return Object(l.a)(i,[{key:"render",value:function(){var e,t;this.props.shape===G?(e=K.topCircle,t=this.props.show?K.fadeIn:!1===this.props.show?K.fadeOut:K.hide):(e=K.bottomCircle,t=this.props.show?K.fadeIn:!1===this.props.show?K.fadeOut:K.hide);var i=[K.container,e,t,this.props.style];return a.a.createElement("div",{onClick:this.handleClick.bind(this),style:i},this.props.children)}},{key:"handleClick",value:function(e){this.props.onClick(e,this.props.children)}}]),i}(a.a.Component),$=Object(m.a)(Z),ee=i(112),te=i(21),ie=i(22),ne=i.n(ie),ae={container:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",margin:H,zIndex:"40","@media (min-width: 600px)":{margin:L},"@media (min-width: 750px)":{margin:W},"@media (min-width: 1200px)":{margin:U}},fadeIn:{animationName:m.a.keyframes(X.fadeIn,"fadeIn"),animationDuration:"3s",animationFillMode:"forwards",animationTimingFunction:"ease-in"},infoContainer:{display:"flex",flexDirection:"column",zIndex:"40",justifyContent:"center",alignItems:"flex-end"},labelContainer:{backgroundColor:u,borderRadius:"5px",padding:B,zIndex:"40","@media (min-width: 900px)":{padding:P}},textStyle:{fontFamily:V,fontSize:E,color:f,letterSpacing:"1px","@media (min-width: 450px)":{},"@media (min-width: 600px)":{fontSize:R},"@media (min-width: 750px) and (orientation: portrait)":{fontSize:R},"@media (min-width: 900px) and (orientation: portrait)":{fontSize:O}},infoColor:{color:f},smallMargin:{marginTop:B}},oe=function(e){Object(p.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={time:ne.a.tz("America/Chicago").format("h:mm:ss a"),date:ne.a.tz("America/Chicago").format("LL")},setInterval(n.updateDateTime.bind(Object(d.a)(n)),1e3),n}return Object(l.a)(i,[{key:"render",value:function(){var e=[ae.textStyle,ae.infoColor];return a.a.createElement("div",{style:ae.container},a.a.createElement("div",{style:ae.infoContainer},a.a.createElement("div",{style:[ae.smallMargin,e,ae.fadeIn]},"CHICAGO, USA"),a.a.createElement("div",{style:[e,ae.fadeIn]},this.state.date),a.a.createElement("div",{style:[e,ae.fadeIn]},this.state.time)))}},{key:"updateDateTime",value:function(){this.setState({time:ne.a.tz("America/Chicago").format("h:mm:ss a"),date:ne.a.tz("America/Chicago").format("LL")})}}]),i}(a.a.Component),re=Object(m.a)(oe),se={container:{display:"flex",width:"100%",height:"50px","@media (min-width: 750px) and (orientation: portrait)":{height:"60px"},"@media (min-width: 1200px)":{height:"70px"},"@media (min-width: 1400px)":{height:"80px"}},textArea:{width:"100%",fontSize:E,padding:H,fontFamily:V,color:h,letterSpacing:"1px","@media (min-width: 750px) and (orientation: portrait)":{fontSize:R},"@media (min-width: 1200px)":{fontSize:O},"@media (min-width: 1400px)":{fontSize:I}}},le=function(e){Object(p.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={value:""},n.textArea=a.a.createRef(),n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return a.a.createElement("div",{style:se.container},a.a.createElement("textarea",{ref:this.textArea,style:se.textArea,outline:"none",maxLength:"200",value:this.state.value,onChange:this.onChange.bind(this),placeholder:"Type your message..."}))}},{key:"onChange",value:function(e){this.setState({value:e.target.value}),this.props.onChange(e.target.value)}},{key:"clearContent",value:function(){this.setState({value:""})}},{key:"getContent",value:function(){return this.state.value}}]),i}(a.a.Component),de=Object(m.a)(le);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function pe(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}var me=a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{d:"M300.188,246L484.14,62.04c5.06-5.064,7.852-11.82,7.86-19.024c0-7.208-2.792-13.972-7.86-19.028L468.02,7.872 c-5.068-5.076-11.824-7.856-19.036-7.856c-7.2,0-13.956,2.78-19.024,7.856L246.008,191.82L62.048,7.872 c-5.06-5.076-11.82-7.856-19.028-7.856c-7.2,0-13.96,2.78-19.02,7.856L7.872,23.988c-10.496,10.496-10.496,27.568,0,38.052 L191.828,246L7.872,429.952c-5.064,5.072-7.852,11.828-7.852,19.032c0,7.204,2.788,13.96,7.852,19.028l16.124,16.116 c5.06,5.072,11.824,7.856,19.02,7.856c7.208,0,13.968-2.784,19.028-7.856l183.96-183.952l183.952,183.952 c5.068,5.072,11.824,7.856,19.024,7.856h0.008c7.204,0,13.96-2.784,19.028-7.856l16.12-16.116 c5.06-5.064,7.852-11.824,7.852-19.028c0-7.204-2.792-13.96-7.852-19.028L300.188,246z"}))),he=a.a.createElement("g",null),ue=a.a.createElement("g",null),fe=a.a.createElement("g",null),ge=a.a.createElement("g",null),xe=a.a.createElement("g",null),be=a.a.createElement("g",null),ye=a.a.createElement("g",null),ve=a.a.createElement("g",null),we=a.a.createElement("g",null),ke=a.a.createElement("g",null),Se=a.a.createElement("g",null),Ce=a.a.createElement("g",null),Ee=a.a.createElement("g",null),Re=a.a.createElement("g",null),Oe=a.a.createElement("g",null),Ie=function(e){var t=e.svgRef,i=e.title,n=pe(e,["svgRef","title"]);return a.a.createElement("svg",ce({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 492 492",style:{enableBackground:"new 0 0 492 492"},xmlSpace:"preserve",ref:t},n),i?a.a.createElement("title",null,i):null,me,he,ue,fe,ge,xe,be,ye,ve,we,ke,Se,Ce,Ee,Re,Oe)},De=a.a.forwardRef((function(e,t){return a.a.createElement(Ie,ce({svgRef:t},e))})),je=(i.p,{container:{display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",background:y,color:v,fontFamily:q,width:"100%",height:"100%",border:"none",backfaceVisibility:"hidden"},title:{fontSize:E,letterSpacing:"1.5px",paddingTop:B,paddingBottom:B,paddingLeft:P,paddingRight:P,marginTop:H,background:v,color:y},website:{marginTop:H,fontSize:C},city:{background:y,color:v,marginTop:B,fontSize:C},dateTimeContainer:{marginTop:P,display:"flex",flexDirection:"row"},dateTime:{fontSize:C,marginRight:P},message:{marginTop:H,fontSize:E,overflowWrap:"anywhere",marginLeft:H,marginRight:H,paddingBottom:H},topPadding:{paddingTop:"10px"}}),Te=function(e){Object(p.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={value:""},n.textArea=a.a.createRef(),n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){console.log("Receipt mounted")}},{key:"render",value:function(){var e=[je.title,je.website],t=this.props.topPadding?[je.container,je.topPadding]:je.container,i=this.beautifyDate(),n=this.props.entry.message.split("\n").map((function(e,t){return a.a.createElement("span",{key:t},e,a.a.createElement("br",null))}));return a.a.createElement("div",{style:t},a.a.createElement("div",{style:je.title}," MOMIMSAFE "),a.a.createElement("div",{style:e},"momimsafe.live"),a.a.createElement("div",{style:je.city},"CHICAGO, USA"),a.a.createElement("div",{style:je.dateTimeContainer},a.a.createElement("div",{style:je.dateTime},i.date),a.a.createElement("div",{style:je.dateTime},i.time)),a.a.createElement("div",{style:je.message},n))}},{key:"beautifyDate",value:function(){var e=this.props.entry.date.toString().split("T");if(1===e.length)return{date:this.props.entry.date,time:this.props.entry.time};e=e[0];var t=this.props.entry.time.toString().split(":");return e=e.split("-"),{date:(e=new Date(e[0],e[1]-1,e[2],t[0],t[1],t[2])).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),time:e.toLocaleTimeString("en-US")}}}]),i}(a.a.Component),ze=Object(m.a)(Te),Ae=0,Fe=1,Me=0,Be=1,Pe=2,He={container:{},overlay:{position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",background:g,zIndex:"-999"},fadeIn:{animationName:m.a.keyframes({from:{opacity:"0"},to:{opacity:"0.5"}},"fadesIn"),animationDuration:"0.5s",animationFillMode:"forwards",animationTimingFunction:"ease-in"},fadeOut:{animationName:m.a.keyframes({from:{opacity:"0.5"},to:{opacity:"0"}},"fadesOut"),animationDuration:"1.5s",animationFillMode:"forwards",animationTimingFunction:"ease-out"},fadeOutUp:{animationName:m.a.keyframes(X.fadeOutUp,"fadeOutUp"),animationDuration:"1.5s",animationFillMode:"forwards",animationTimingFunction:"ease-out"},fadeOutDown:{animationName:m.a.keyframes(X.fadeOutDown,"fadeOutDown"),animationDuration:"1.5s",animationFillMode:"forwards",animationTimingFunction:"ease-out"},fadeInDown:{animationName:m.a.keyframes(X.fadeInDown,"fadeInDown"),animationDuration:"1.5s",animationFillMode:"forwards",animationTimingFunction:"ease-in"},fadeInUp:{animationName:m.a.keyframes(X.fadeInUp,"fadeInUp"),animationDuration:"1.5s",animationFillMode:"forwards",animationTimingFunction:"ease-in"},showOverlay:{zIndex:"998"},showContent:{zIndex:"999"},contentContainer:{position:"fixed",zIndex:"-999",top:"0px",bottom:"0px",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"},content:{borderRadius:S,borderStyle:"dotted",borderColor:b,borderWidth:"3px",overflow:"auto",maxWidth:"calc(100% - 50px)",maxHeight:"calc(100% - 100px)","@media (min-width: 600px)":{maxWidth:"calc(100% - 100px)",maxHeight:"calc(100% - 100px)"},"@media (min-width: 750px)":{maxWidth:"calc(100% - 150px)",maxHeight:"calc(100% - 100px)"},"@media (min-width: 1200px)":{maxWidth:"calc(100% - 300px)",maxHeight:"calc(100% - 100px)"}},stretchContainer:{display:"flex",flexDirection:"column",alignItems:"center",background:h,color:f,paddingLeft:H,paddingRight:H,"@media (min-width: 600px)":{paddingLeft:L,paddingRight:L},"@media (min-width: 900px)":{paddingLeft:U,paddingRight:U},"@media (min-width: 1200px)":{paddingLeft:N,paddingRight:N}},title:{marginTop:L,fontFamily:_,fontSize:T,"@media (min-width: 600px)":{fontSize:z},"@media (min-width: 750px)":{fontSize:A},"@media (min-width: 750px) and (orientation: portrait)":{fontSize:F},"@media (min-width: 900px)":{fontSize:F},"@media (min-width: 1200px)":{fontSize:M},"@media (min-width: 1400px)":{}},body:{marginTop:B,justifyContent:"center",fontFamily:Q,fontSize:E},mediaQueryOnText:{"@media (min-width: 750px) and (orientation: portrait)":{fontSize:R},"@media (min-width: 900px)":{fontSize:R},"@media (min-width: 1200px)":{fontSize:R},"@media (min-width: 1400px)":{fontSize:O}},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-end",borderRadius:E,padding:B,backgroundColor:f,right:S,marginRight:"-"+C,height:C,width:C,fill:h,"@media (min-width: 600px)":{marginRight:"-"+R},"@media (min-width: 750px) and (orientation:portrait)":{},"@media (min-width: 900px)":{height:R,width:R,marginRight:"-"+D},"@media (min-width: 1200px)":{marginRight:"-"+z},"@media (min-width: 1400px)":{}},icon:{width:"100%",height:"100%"},buttonContainer:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:L,marginBottom:U,background:f,fontFamily:V,fontSize:E,color:h,letterSpacing:"1px",padding:H,borderRadius:C},input:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%",marginTop:P,marginBottom:P},sendButtonContainer:{background:f,fontFamily:V,fontSize:E,color:h,letterSpacing:"1px",marginLeft:B,padding:H,borderRadius:C,display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"stretch","@media (min-width: 900px)":{width:"100px"}},disabled:{color:x},imageContainer:{marginTop:H,width:"100%"},footer:{display:"flex",alignItems:"center",color:b,alignSelf:"center",fontFamily:V,fontSize:C,marginBottom:H,letterSpacing:"1.5px","@media (min-width: 750px)":{fontSize:E},"@media (min-width: 1200px)":{fontSize:R}},simpleLink:{color:b},receiptsContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:H,justifyContent:"center",width:"100%"},individualReceipt:{display:"flex",marginLeft:B,marginRight:B,marginTop:H,width:"100%","@media (min-width: 450px) and (orientation: landscape)":{width:"calc(100%/2 - 4%)"},"@media (min-width: 750px)":{width:"calc(100%/2 - 3%)"},"@media (min-width: 900px)":{width:"calc(100%/2 - 2%)"},"@media (min-width: 1200px)":{width:"calc(100%/3 - 2%)"},"@media (min-width: 1400px)":{width:"calc(100%/4 - 2%)"}}},Le=a.a.createElement("a",{style:He.simpleLink,target:"_blank",rel:"noopener noreferrer",href:"https://momimsafe.live/#/printer"},"virtual printer"),We=function(e){Object(p.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={isVisible:!1,popupState:Pe,disabled:!0},n.textInput=a.a.createRef(),n.content=a.a.createRef(),n}return Object(l.a)(i,[{key:"render",value:function(){var e,t,i;return this.state.isVisible?(e=[He.overlay,He.showOverlay],this.state.popupState===Me?e=[e,He.fadeIn]:this.state.popupState===Be&&(e=[e,He.fadeOut])):e=He.overlay,this.props.type===Ae?(t=this.getAboutContent(),this.state.isVisible?(i=[He.contentContainer,He.showContent],this.state.popupState===Me?i=[i,He.fadeInDown]:this.state.popupState===Be&&(i=[i,He.fadeOutUp])):i=He.contentContainer):(t=this.getSendContent(),this.state.isVisible?(i=[He.contentContainer,He.showContent],this.state.popupState===Me?i=[i,He.fadeInUp]:this.state.popupState===Be&&(i=[i,He.fadeOutDown])):i=He.contentContainer),a.a.createElement("div",{onClick:this.handleOnTouch.bind(this),onTouchStart:this.handleOnTouch.bind(this),style:He.container},a.a.createElement("div",{style:e}),a.a.createElement("div",{onAnimationEnd:this.contentAnimationEnd.bind(this),style:i},t))}},{key:"contentAnimationEnd",value:function(){this.state.isVisible&&this.state.popupState===Be&&this.setState({isVisible:!1,popupState:Pe})}},{key:"getCloseButton",value:function(){var e=[He.buttonContainer,He.mediaQueryOnText];return a.a.createElement("div",{style:e,onClick:this.hidePopup.bind(this)},"CLOSE")}},{key:"getIconButton",value:function(){return a.a.createElement("div",{onClick:this.hidePopup.bind(this),style:He.iconContainer},a.a.createElement(De,{style:He.icon}))}},{key:"getAboutContent",value:function(){var e=this.getFooter(),t=this.getCloseButton(),i=this.getIconButton(),n=[He.body,He.mediaQueryOnText];return a.a.createElement("div",{ref:this.content,style:He.content},a.a.createElement("div",{style:He.stretchContainer},i,a.a.createElement("div",{style:He.title},"Mom I'm Safe"),a.a.createElement("div",{style:n},"momimsafe is an active live-stream of my home studio space, where I spend the majority of my time in this post-covid era. It was developed in response to the COVID-19 lockdown, with an urgent need in mind; to be visually and physically accessible to all my friends and family globally; especially my mom, who has been concerned about my safety and health during this time. It's a twisted take on communication, which is personal and can exist for an extended period of time. To bridge your virtual space with my physical space, you can send me messages that are archived and printed in my space in real-time."),t,e))}},{key:"getSendContent",value:function(){var e=this.processReceipts(),t=this.getFooter(),i=this.getCloseButton(),n=this.getIconButton(),o=[He.mediaQueryOnText,He.sendButtonContainer];o=this.state.disabled?[o,He.disabled]:o;var r=[He.body,He.mediaQueryOnText];return a.a.createElement("div",{ref:this.content,style:He.content},a.a.createElement("div",{style:He.stretchContainer},n,a.a.createElement("div",{style:He.title},"Send Some Love"),a.a.createElement("div",{style:He.input},a.a.createElement(de,{onChange:this.onTextInputChange.bind(this),ref:this.textInput}),a.a.createElement("button",{disabled:this.state.disabled,onClick:this.handleSendMessage.bind(this),style:o},"SEND")),a.a.createElement("div",{style:r},"There may be times when you see me working in my studio, or you may not. But you can leave me a message by typing in the textbox above and hitting the send button. Your messages will be printed by a receipt printer in my studio, which is situated on the left side of my desk. These messages arrive in real-time and are anonymous. So leave a trace in my space, be honest, and send some love. Also, you can access a ",Le,", where you can see all the messages received since the beginning. Below are some of the receipts produced already."),a.a.createElement("div",{style:He.receiptsContainer},e),i,t))}},{key:"getFooter",value:function(){return a.a.createElement("a",{style:He.footer,target:"_blank",rel:"noopener noreferrer",href:"https://amaykataria.com"},"\xa9 Amay Kataria 2020")}},{key:"showPopup",value:function(){this.content.current.scrollTop=0,this.props.type===Ae&&this.setState({disabled:!0}),this.setState({isVisible:!0,popupState:Me})}},{key:"hidePopup",value:function(e){e.stopPropagation(),this.setState({popupState:Be}),this.props.onClose()}},{key:"handleOnTouch",value:function(e){e.stopPropagation()}},{key:"handleSendMessage",value:function(e){e.stopPropagation(),this.textInput.current.clearContent();var t=this.textInput.current.getContent();this.props.onSend(t),this.hidePopup(e)}},{key:"onTextInputChange",value:function(e){0!==e.length?this.setState({disabled:!1}):this.setState({disabled:!0})}},{key:"processReceipts",value:function(){for(var e=this.props.receipts,t=[],i=0;i<e.length;i++)t.push(a.a.createElement("div",{key:i,style:He.individualReceipt},a.a.createElement(ze,{entry:e[i]})));return t}}]),i}(a.a.Component),Ue=Object(m.a)(We),Ne=i(110),Ve=i.n(Ne),_e={container:{position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:"10"},flipInX:{animationName:m.a.keyframes(X.fadeInLeft,"flipInX"),animationDuration:"3s",animationFillMode:"forwards",animationTimingFunction:"ease-in-out"},canvas:{height:"100vh",width:"100vw",objectFit:"cover"},overlay:{background:"linear-gradient(356deg, rgba(252,240,225,1) 0%, rgba(5,90,133,1) 100%)",opacity:"0.35",position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px"}},Qe=function(e){Object(p.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={},n.container=a.a.createRef(),n.canvas=a.a.createRef(),n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=[_e.container,_e.flipInX];return a.a.createElement("div",{style:e,ref:this.container},a.a.createElement("div",{style:_e.overlay}),a.a.createElement("video",{style:_e.canvas,src:Ve.a,type:"video/mp4",autoPlay:!0,playsInline:!0,muted:!0,loop:!0}))}}]),i}(a.a.Component),qe=Object(m.a)(Qe),Ye=i(45),Xe=i(111),Ge=i.n(Xe),Je=function(e){Object(p.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={},n.socket=Ge()("https://blooming-refuge-71111.herokuapp.com/app",{reconnection:!0,reconnectionDelay:500,reconnectionAttempts:1/0}),n.socket.once("connect",n.subscribe.bind(Object(d.a)(n))),n}return Object(l.a)(i,[{key:"render",value:function(){return null}},{key:"subscribe",value:function(){console.log("Connected"),this.socket.on("time",this.logTime.bind(this)),this.socket.on("disconnect",this.disconnect.bind(this)),this.socket.on("receiveRandomEntries",this.receiveEntries.bind(this)),this.socket.on("receiveDatabaseEntries",this.receiveDatabaseRentries.bind(this)),this.socket.on("printPayload",this.printPayload.bind(this))}},{key:"disconnect",value:function(){console.log("Socket Server Disconnected.")}},{key:"logTime",value:function(e){console.log("Socket Connection Alive: "+e)}},{key:"sendMessage",value:function(e){var t={message:e.toLowerCase(),date:ne.a.tz("America/Chicago").format("YYYY-MM-DD"),time:ne.a.tz("America/Chicago").format("h:mm:ss a")};console.log("Emitting Write Payload"),this.socket.emit("writePayload",t)}},{key:"requestData",value:function(){this.socket.emit("readRandomEntries")}},{key:"receiveEntries",value:function(e){console.log("Entries received"),this.props.processEntries(e)}},{key:"readDatabase",value:function(){console.log("Request received"),this.socket.emit("readDatabase",{order:"DESC"})}},{key:"receiveDatabaseRentries",value:function(e){console.log("Entries received"),this.props.processDatabase(e)}},{key:"printPayload",value:function(e){console.log("Payload received"),this.props.appendDatabase&&this.props.appendDatabase(e)}}]),i}(a.a.Component),Ke=Object(m.a)(Je),Ze=m.a.keyframes({"0%":{height:"0"},"100%":{height:"60px"}},"height"),$e={animatingContainer:{position:"absolute",top:"0%",bottom:"0%",left:"0%",right:"0%",marginLeft:H,marginRight:H,justifyContent:"center",display:"flex",zIndex:"0"},paperRollContainer:{position:"absolute",bottom:"0%",display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},individualReceipt:{display:"flex",flexDirection:"column",width:"100%"}},et=function(e){Object(p.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={receipts:[],enableAnimation:!1,animationStyle:{},currentReceiptIdx:0},n.receipt=a.a.createRef(),n.wrapper=a.a.createRef(),n.scrollContainer=a.a.createRef(),n.lastReceiptIdx=0,n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){console.log("Paper Roll Mount")}},{key:"render",value:function(){var e=this.state.enableAnimation?[$e.animatingContainer,this.state.animationStyle]:$e.animatingContainer;return a.a.createElement("div",{ref:this.wrapper,style:e,onAnimationEnd:this.onWrapperAnimationEnd.bind(this)},a.a.createElement("div",{ref:this.receiptContainer,style:$e.paperRollContainer},this.state.receipts))}},{key:"createReceipt",value:function(e){var t=e?this.lastReceiptIdx:Math.floor(Math.random()*this.props.database.length);console.log("Receipt: "+t);var i=a.a.createElement("div",{ref:this.receipt,key:this.state.receipts.length,style:$e.individualReceipt},a.a.createElement(ze,{topPadding:!0,entry:this.props.database[t]})),n=this.state.receipts;n.unshift(i);var o=e?this.lastReceiptIdx+1:t;this.lastReceiptIdx=e?o:this.lastReceiptIdx,this.setState({receipts:n,currentReceiptIdx:o})}},{key:"componentDidUpdate",value:function(e,t){var i=this;this.props.database!==e.database&&(console.log("Creating first receipt"),this.createReceipt(!0)),this.state.currentReceiptIdx!==t.currentReceiptIdx&&setTimeout((function(){i.resetAnimation()}),500)}},{key:"updateHeightAnimation",value:function(e,t){Ze=m.a.keyframes({"0%":{height:e+"px"},"100%":{height:t+"px"}},"height")}},{key:"resetAnimation",value:function(){var e=parseInt(this.wrapper.current.offsetHeight),t=e+parseInt(this.receipt.current.offsetHeight);console.log("resetAnimation: "+e+", "+t),this.updateHeightAnimation(e,t),console.log("Animation begin"),this.setState({animationStyle:{animationName:Ze,animationDuration:"1.5s",animationFillMode:"forwards",animationTimingFunction:"linear"},enableAnimation:!0})}},{key:"onWrapperAnimationEnd",value:function(){console.log("Animation ending"),this.props.onAnimationEnd()}}]),i}(a.a.Component),tt=Object(m.a)(et),it={container:{display:"flex",height:"250px",flexDirection:"column",alignItems:"center",backgroundColor:w,boxShadow:Y.dark,borderRadius:"25px","@media (min-width: 768px)":{width:"65%"},"@media (min-width: 1024px)":{width:"30%"},"@media (min-width: 1440px)":{width:"35%"},"@media (min-width: 375px) and (orientation: portrait)":{width:"99%"},"@media (min-width: 768px) and (orientation: portrait)":{width:"70%"},"@media (min-width: 1024px) and (orientation: portrait)":{width:"65%"},"@media (min-width: 1024px) and (orientation: landscape)":{width:"40%"}},upperBodyContainer:{position:"relative",zIndex:"2",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:w,borderRadius:"25px 25px 0px 0px",paddingBottom:L},header:{display:"flex",color:f,fontFamily:V,fontSize:C,marginTop:P,letterSpacing:"1.5px","@media (min-width: 450px)":{},"@media (min-width: 600px)":{fontSize:E},"@media (min-width: 750px) and (orientation: portrait)":{fontSize:E},"@media (min-width: 900)":{fontSize:R},":hover":{color:b}},infoContainer:{display:"flex",flexDirection:"row",marginTop:L,marginLeft:H,marginRight:H,width:"100%",justifyContent:"space-evenly",zIndex:"1"},buttonCollection:{display:"flex",flexDirection:"row"},btnContainer:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:P,marginRight:P,marginLeft:P},title:{color:f,fontFamily:V,fontSize:E,letterSpacing:"1.5px","@media (min-width: 450px)":{},"@media (min-width: 600px)":{fontSize:R},"@media (min-width: 750px) and (orientation: portrait)":{fontSize:R},"@media (min-width: 900px) and (orientation: portrait)":{fontSize:O}},button:{marginTop:B,width:"20px",height:"20px",border:"1.4px solid black",borderRadius:"15px",boxShadow:Y.darkButton,cursor:"pointer"},buttonHover:{backgroundColor:k,boxShadow:Y.darkButtonBig},buttonDisabled:{backgroundColor:x},website:{display:"flex",alignItems:"flex-end",color:f,fontFamily:V,fontSize:E,letterSpacing:"1.5px",":hover":{color:b},"@media (min-width: 450px)":{},"@media (min-width: 600px)":{fontSize:R},"@media (min-width: 750px) and (orientation: portrait)":{fontSize:R},"@media (min-width: 900px) and (orientation: portrait)":{fontSize:O}},division:{display:"flex",width:"100%",height:"1.5px",backgroundColor:v,marginTop:L,boxShadow:Y.darkButton},mouthContainer:{display:"flex",flexDirection:"column",position:"relative",top:"0%",bottom:"0%",left:"0%",right:"0%",width:"90%",zIndex:"1"},upperMouth:{position:"relative",backgroundColor:k,zIndex:"1",height:"40px",borderRadius:"10px 10px 0 0",boxShadow:Y.dark},lowerMouth:{position:"absolute",left:"0%",right:"0%",backgroundColor:k,height:"40px",marginTop:"40px",borderRadius:"0px 0px 10px 10px",zIndex:"-1",boxShadow:Y.darkButton}},nt=function(e){Object(p.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={isPrintHovering:!1,isShuffleHovering:!1,isReloadHovering:!1,isDisabled:!0},n.paperRoll=a.a.createRef(),n}return Object(l.a)(i,[{key:"render",value:function(){var e=this.getHeader(),t=this.getButtons(),i=this.getWebsite();return a.a.createElement("div",{style:it.container},a.a.createElement("div",{style:it.upperBodyContainer},e,a.a.createElement("div",{style:it.infoContainer},t,i),a.a.createElement("div",{style:it.division})),a.a.createElement("div",{style:it.mouthContainer},a.a.createElement("div",{style:it.upperMouth}),a.a.createElement(tt,{ref:this.paperRoll,database:this.props.database,onAnimationEnd:this.onReceiptAnimationEnd.bind(this)}),a.a.createElement("div",{style:it.lowerMouth})))}},{key:"getHeader",value:function(){return a.a.createElement("a",{key:"amaykataria",style:it.header,target:"_blank",rel:"noopener noreferrer",href:"https://amaykataria.com"},"\xa9 Amay Kataria 2020")}},{key:"getButtons",value:function(){var e=this.state.isPrintHovering?[it.button,it.buttonHover]:[it.button];e=this.state.isDisabled?[e,it.buttonDisabled]:e;var t=this.state.isShuffleHovering?[it.button,it.buttonHover]:[it.button];t=this.state.isDisabled?[t,it.buttonDisabled]:t;var i=this.state.isReloadHovering?[it.button,it.buttonHover]:[it.button];return i=this.state.isDisabled?[i,it.buttonDisabled]:i,a.a.createElement("div",{style:it.buttonCollection},a.a.createElement("div",{style:it.btnContainer},a.a.createElement("div",{style:it.title},"PRINT"),a.a.createElement("div",{onMouseEnter:this.onPrintHover.bind(this),onMouseLeave:this.onResetPrintHover.bind(this),onClick:this.onPrint.bind(this),style:e,disabled:this.state.isDisabled})),a.a.createElement("div",{style:it.btnContainer},a.a.createElement("div",{style:it.title},"SHUFFLE"),a.a.createElement("div",{onMouseEnter:this.onShuffleHover.bind(this),onMouseLeave:this.onResetShuffleHover.bind(this),onClick:this.onShuffle.bind(this),style:t,disabled:this.state.isDisabled})),a.a.createElement("div",{style:it.btnContainer},a.a.createElement("div",{style:it.title},"RELOAD"),a.a.createElement("div",{onMouseEnter:this.onReloadHover.bind(this),onMouseLeave:this.onResetReloadHover.bind(this),onClick:this.onReload.bind(this),style:i,disabled:this.state.isDisabled})))}},{key:"getWebsite",value:function(){return a.a.createElement("a",{key:"momimsafe",style:it.website,target:"_blank",rel:"noopener noreferrer",href:"https://momimsafe.live"},"MOMIMSAFE.LIVE")}},{key:"onReceiptAnimationEnd",value:function(){this.setState({isDisabled:!1})}},{key:"onPrint",value:function(e){e.stopPropagation(),this.state.isDisabled||(this.paperRoll.current.createReceipt(!0),this.setState({isDisabled:!0}))}},{key:"onShuffle",value:function(e){e.stopPropagation(),this.state.isDisabled||(this.paperRoll.current.createReceipt(!1),this.setState({isDisabled:!0}))}},{key:"onReload",value:function(e){e.stopPropagation(),this.state.isDisabled||window.location.reload()}},{key:"onPrintHover",value:function(e){e.stopPropagation(),this.setState({isPrintHovering:!0})}},{key:"onShuffleHover",value:function(e){e.stopPropagation(),this.setState({isShuffleHovering:!0})}},{key:"onReloadHover",value:function(e){e.stopPropagation(),this.setState({isReloadHovering:!0})}},{key:"onResetReloadHover",value:function(e){e.stopPropagation(),this.setState({isReloadHovering:!1})}},{key:"onResetShuffleHover",value:function(e){e.stopPropagation(),this.setState({isShuffleHovering:!1})}},{key:"onResetPrintHover",value:function(e){e.stopPropagation(),this.setState({isPrintHovering:!1})}},{key:"getCurrentReceiptIdx",value:function(){return this.paperRoll.current.state.currentReceiptIdx}},{key:"createReceipt",value:function(){this.paperRoll.current.createReceipt(!0)}}]),i}(a.a.Component),at=Object(m.a)(nt),ot={container:{display:"flex",backgroundColor:h,justifyContent:"center",padding:"12px 12px 10px 12px",height:"100vh",overflow:"scroll"},desktop:{width:"100vw"},hidingDiv:{position:"fixed",top:"0%",height:"12px",width:"100%",backgroundColor:h,zIndex:"2"}},rt=function(e){Object(p.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={databaseEntries:[]},n.websocket=a.a.createRef(),n.body=a.a.createRef(),n}return Object(l.a)(i,[{key:"render",value:function(){var e=Ye.isMobile?ot.container:[ot.container,ot.desktop];return a.a.createElement("div",{style:e},a.a.createElement(Ke,{ref:this.websocket,processDatabase:this.processDatabase.bind(this),appendDatabase:this.appendDatabase.bind(this)}),a.a.createElement("div",{style:ot.hidingDiv}),a.a.createElement(at,{ref:this.body,database:this.state.databaseEntries}))}},{key:"componentDidMount",value:function(){this.queryDatabase()}},{key:"queryDatabase",value:function(){console.log("Query the entire database of messages."),this.websocket.current.readDatabase()}},{key:"processDatabase",value:function(e){console.log("Entire database received with "+e.length+" entries."),this.setState({databaseEntries:e})}},{key:"appendDatabase",value:function(e){console.log("Add a new entry to the dabatase");var t=this.body.current.getCurrentReceiptIdx(),i=this.state.databaseEntries;i.splice(t,0,e),this.setState({databaseEntries:i}),this.body.current.state.isDisabled||this.body.current.createReceipt()}}]),i}(a.a.Component),st=Object(m.a)(rt),lt={container:{position:"relative"},buttonWrapper:{position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:"30"},topButton:{display:"flex",alignItems:"center",opacity:"0.9"},bottomButton:{display:"flex",alignItems:"center",opacity:"0.9"}},dt=function(e){Object(p.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={imageSrc:"",popupType:Ae,showButtons:!0,receipts:{}},n.websocket=a.a.createRef(),n.popupRef=a.a.createRef(),n.timeoutDuration=5e3,n.buttonTimeout=setTimeout(n.hideButtons.bind(Object(d.a)(n)),n.timeoutDuration),n}return Object(l.a)(i,[{key:"render",value:function(){var e=this.getContent();return a.a.createElement("div",{onClick:this.onTouch.bind(this),onTouchStart:this.onTouch.bind(this),style:lt.container},a.a.createElement(ee.a,{basename:""},a.a.createElement(te.c,null,a.a.createElement(te.a,{path:"/printer"},a.a.createElement(st,null)),a.a.createElement(te.a,{path:"/"},e))))}},{key:"getContent",value:function(){return a.a.createElement("div",null,a.a.createElement(Ke,{ref:this.websocket,processEntries:this.entriesReceived.bind(this)}),a.a.createElement(re,null),a.a.createElement("div",{style:lt.buttonWrapper},a.a.createElement($,{key:"About",show:this.state.showButtons,onClick:this.handleClick.bind(this),shape:G,style:lt.bottomButton},"About"),a.a.createElement($,{key:"Send",show:this.state.showButtons,onClick:this.handleClick.bind(this),shape:J,style:lt.topButton},"Send")),a.a.createElement(qe,{ref:this.videoStream}),a.a.createElement(Ue,{ref:this.popupRef,onClose:this.handlePopupClose.bind(this),onSend:this.handleSendMessage.bind(this),type:this.state.popupType,receipts:this.state.receipts}))}},{key:"onStreamImage",value:function(e){var t="data:image/jpeg;base64,"+e;this.setState({imageSrc:t})}},{key:"emitMessage",value:function(e){this.websocket.current.sendMessage(e)}},{key:"handlePopupClose",value:function(){this.setState({showButtons:!0}),this.buttonTimeout=setTimeout(this.hideButtons.bind(this),this.timeoutDuration)}},{key:"handleClick",value:function(e,t){e.stopPropagation(),clearTimeout(this.buttonTimeout),"Send"===t&&(console.log("send"),this.websocket.current.requestData());var i="About"===t?Ae:Fe;this.setState({popupType:i,showButtons:!1}),this.popupRef.current.showPopup()}},{key:"entriesReceived",value:function(e){this.setState({receipts:e})}},{key:"onTouch",value:function(){clearTimeout(this.buttonTimeout),this.buttonTimeout=setTimeout(this.hideButtons.bind(this),this.timeoutDuration),this.setState({showButtons:!0})}},{key:"hideButtons",value:function(){this.setState({showButtons:!1})}},{key:"handleSendMessage",value:function(e){this.websocket.current.sendMessage(e)}}]),i}(a.a.Component),ct=Object(m.a)(Object(Ye.withOrientationChange)(dt)),pt=i(57);r.a.render(a.a.createElement(pt.a,null,a.a.createElement(ct,null)),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.de98eefd.chunk.js.map